<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="robots" content="index, follow"><meta name="author" content="Alvaro Mongil">
<meta name="description" content="">
<link rel="author" type="text/plain" href="/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#494f5c">
<meta name="msapplication-TileColor" content="#494f5c">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#494f5c">

  <meta itemprop="name" content="I&#39;m joining the Storj network">
  <meta itemprop="description" content="Lately, I have not been giving much attention to my Raspberry Pi 3 B&#43; and I remembered that a few months back I had received an invitation to the Storj network. Luckily, I have a spare 1TB external HDD that I can now hopefully put to good use.
Storj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.1
Node installation After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.">
  <meta itemprop="datePublished" content="2019-08-11T11:33:59+02:00">
  <meta itemprop="dateModified" content="2019-08-11T11:33:59+02:00">
  <meta itemprop="wordCount" content="1258">
  <meta itemprop="keywords" content="Storj,Ethereum,Decentralized,Storage,Raspberrypi"><meta property="og:url" content="http://localhost:1313/en/posts/im-joining-the-storj-network/">
  <meta property="og:site_name" content="Álvaro Mongil">
  <meta property="og:title" content="I&#39;m joining the Storj network">
  <meta property="og:description" content="Lately, I have not been giving much attention to my Raspberry Pi 3 B&#43; and I remembered that a few months back I had received an invitation to the Storj network. Luckily, I have a spare 1TB external HDD that I can now hopefully put to good use.
Storj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.1
Node installation After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-08-11T11:33:59+02:00">
    <meta property="article:modified_time" content="2019-08-11T11:33:59+02:00">
    <meta property="article:tag" content="Storj">
    <meta property="article:tag" content="Ethereum">
    <meta property="article:tag" content="Decentralized">
    <meta property="article:tag" content="Storage">
    <meta property="article:tag" content="Raspberrypi">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="I&#39;m joining the Storj network">
  <meta name="twitter:description" content="Lately, I have not been giving much attention to my Raspberry Pi 3 B&#43; and I remembered that a few months back I had received an invitation to the Storj network. Luckily, I have a spare 1TB external HDD that I can now hopefully put to good use.
Storj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.1
Node installation After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.">

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "I'm joining the Storj network",
    "name": "I\u0027m joining the Storj network",
    "description": "\nLately, I have not been giving much attention to my Raspberry Pi 3 B+ and I remembered that a few months back I had received an invitation to the Storj network. Luckily, I have a spare 1TB external HDD that I can now hopefully put to good use.\nStorj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.1\nNode installation After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.\n",
    "keywords": ["storj", "ethereum", "decentralized", "storage", "raspberrypi"],
    "articleBody": "\nLately, I have not been giving much attention to my Raspberry Pi 3 B+ and I remembered that a few months back I had received an invitation to the Storj network. Luckily, I have a spare 1TB external HDD that I can now hopefully put to good use.\nStorj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.1\nNode installation After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.\nPrerequisites Mounting the external hard drive My HDD came formatted as NTFS and with a bunch of vendor files that I want to get rid of and reformat as ext4.\nFor that, I make use of the fdisk utility to create the partitions of type Linux:\npi@raspberrypi:~ sudo fdisk /dev/sda Welcome to fdisk (util-linux 2.29.2). Changes will remain in memory only, until you decide to write them. Be careful before using the write command. Command (m for help): p Disk /dev/sda: 931,5 GiB, 1000204885504 bytes, 1953525167 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0xe35c7600 Device Boot Start End Sectors Size Id Type /dev/sda1 * 64 1953520128 1953520065 931,5G 7 HPFS/NTFS/exFAT Command (m for help): d Selected partition 1 Partition 1 has been deleted. Command (m for help): p Disk /dev/sda: 931,5 GiB, 1000204885504 bytes, 1953525167 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0xe35c7600 Command (m for help): n Partition type p primary (0 primary, 0 extended, 4 free) e extended (container for logical partitions) Select (default p): p Partition number (1-4, default 1): 1 First sector (2048-1953525166, default 2048): Last sector, +sectors or +size{K,M,G,T,P} (2048-1953525166, default 1953525166): Created a new partition 1 of type 'Linux' and of size 931,5 GiB. And then formatting the partition as ext4:\npi@raspberrypi:~ $ sudo mkfs.ext4 /dev/sda1 -L storjspace01 mke2fs 1.43.4 (31-Jan-2017) Se está creando un sistema de ficheros con 244190389 bloques de 4k y 61054976 nodos-i UUID del sistema de ficheros: 8cf9d53a-7ec4-4a7b-a5b0-ad5ac7d272b8 Respaldo del superbloque guardado en los bloques: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, 102400000, 214990848 Reservando las tablas de grupo: hecho Escribiendo las tablas de nodos-i: hecho Creando el fichero de transacciones (262144 bloques): hecho Escribiendo superbloques y la información contable del sistema de ficheros: hecho Now we can mount it:\npi@raspberrypi:~ $ sudo mkdir /mnt/storjspace01 sudo mkdir /storjspace01 pi@raspberrypi:~ $ sudo mount /dev/sda1 /mnt/storjspace01 sudo mount /dev/sda1 /storjspace01 pi@raspberrypi:~ $ df -h S.ficheros Tamaño Usados Disp Uso% Montado en /dev/root 28G 4,0G 23G 15% / devtmpfs 459M 0 459M 0% /dev tmpfs 464M 0 464M 0% /dev/shm tmpfs 464M 13M 451M 3% /run tmpfs 5,0M 4,0K 5,0M 1% /run/lock tmpfs 464M 0 464M 0% /sys/fs/cgroup /dev/mmcblk0p6 71M 23M 49M 32% /boot tmpfs 93M 0 93M 0% /run/user/1000 /dev/mmcblk0p5 30M 398K 28M 2% /media/pi/SETTINGS /dev/sda1 916G 77M 870G 1% /mnt/storjspace01 Let’s now modify the fstab file to define the location where the storage device will be automatically mounted when the Raspberry Pi starts up, to persist the configuration across reboots. I have to add the following line to the /etc/fstab file:\n/dev/sda1 /mnt/storjspace01 ext4 defaults 0 0 Installing Docker I will make use of the official Docker installation script:\n$ curl -fsSL https://get.docker.com -o get-docker.sh Once downloaded, run it:\n$ sh get-docker.sh Setting up port forwarding Here I have to go to my router settings and set up port forwarding for port 28967 for the local ip of the Raspberry Pi on my LAN.\nSetup Create an identity This is supposed to take a good bit of computing power so I will create this identity on my Macbook, sign it and then transfer it to my Raspberry Pi.\nAfter downloading the binary for macOS:\n./identity_darwin_amd64 create storagenode This will create an identity that I will sign with the token that I have received via email back when I signed up for the alpha:\n./identity_darwin_amd64 authorize storagenode $MYTOKEN Make sure to back up this file as it uniquely identifies you within the network\nNow let’s transfer it to the Pi:\n$ scp -r ~/Library/Application\\ Support/Storj/Identity/storagenode/ pi@192.168.1.42:/home/pi/.local/share/storj/identity/storagenode/ pi@192.168.1.42's password: ca.1565521730.cert 100% 546 103.2KB/s 00:00 ca.cert 100% 1076 170.0KB/s 00:00 identity.cert 100% 1618 12.4KB/s 00:00 identity.key 100% 241 43.4KB/s 00:00 identity.1565521730.cert 100% 1088 170.1KB/s 00:00 ca.key Download and run the storagenode container On the Pi SSH session:\ndocker pull storjlabs/storagenode:arm docker run -d --restart unless-stopped -p 28967:28967 \\ -e WALLET=\"0xxxxxxxxxx\" \\ -e ADDRESS=\"myaddress:28967\" \\ -e BANDWIDTH=\"2TB\" \\ -e STORAGE=\"800GB\" \\ --mount type=bind,source=\"/home/pi/.local/share/storj/identity/storagenode\",destination=/app/identity \\ --mount type=bind,source=\"/mnt/storjspace01\",destination=/app/config \\ --name storagenode storjlabs/storagenode:arm OK, let’s take a look at the logs and see if everything is alright:\n$ docker logs storagenode 2019-08-11T11:57:06.494Z\tINFO\tNode started 2019-08-11T11:57:06.495Z\tINFO\tPublic server started on [::]:28967 2019-08-11T11:57:06.495Z\tINFO\tPrivate server started on 127.0.0.1:7778 2019-08-11T11:57:06.496Z\tINFO\tvouchers\tChecking vouchers 2019-08-11T11:57:06.500Z\tINFO\tpiecestore:monitor\tRemaining Bandwidth\t{\"bytes\": 2000000000000} 2019-08-11T11:57:06.501Z\tINFO\tbandwidth\tPerforming bandwidth usage rollups 2019-08-11T11:57:06.502Z\tINFO\tvouchers\tRequesting voucher\t{\"satellite\": \"12EayRS2V1kEsWESU9QMRseFhdxYxKicsiFmxrsLZHeLUtdps3S\"} 2019-08-11T11:57:06.503Z\tINFO\tvouchers\tRequesting voucher\t{\"satellite\": \"118UWpMCHzs6CvSgWd9BfFVjw5K9pZbJjkfZJexMtSkmKxvvAW\"} 2019-08-11T11:57:06.506Z\tINFO\tvouchers\tRequesting voucher\t{\"satellite\": \"121RTSDpyNZVcEU84Ticf2L1ntiuUimbWgfATz21tuvgk3vzoA6\"} 2019-08-11T11:57:06.508Z\tINFO\tvouchers\tRequesting voucher\t{\"satellite\": \"12L9ZFwhzVpuEKMUNUqkaTLGzwY9G24tbiigLiXpmZWKwmcNDDs\"} 2019-08-11T11:57:06.621Z\tINFO\trunning on version v0.16.1 2019-08-11T11:57:06.964Z\tINFO\tvouchers\tVoucher request denied. Vetting process not yet complete 2019-08-11T11:57:07.125Z\tINFO\tvouchers\tVoucher request denied. Vetting process not yet complete 2019-08-11T11:57:07.396Z\tINFO\tvouchers\tVoucher request denied. Vetting process not yet complete 2019-08-11T11:57:08.018Z\tINFO\tvouchers\tVoucher request denied. Vetting process not yet complete As we can see from the logs, the node is attempting to join the network. But there is something called vetting process which is preventing it from.\nBy default, storage nodes will accept requests to store data from all Satellites on the network. When a new Satellite comes online and makes the first request to a storage node, there will be a vetting process to limit exposure and build trust. Storage nodes can indicate the maximum amount of data they will store for untrusted Satellites. This is a two-way street. When a new storage node comes online, the Satellite vets the new storage node as well to ensure it can reliability store data. Over time, the storage node will build up its reputation with the Satellite and will be allowed to store more data. 2\nConclussions Preparing your Raspberry Pi and your HDD to work with the Storj network is a pretty straight-forward job. Storj is gaining some traction and now is offering an Enterprise version of the network called Tardigrade. I imagine as Storj takes off more and more powerful nodes will join the network and it might even be the case now that my poor Raspberry Pi is no competition to most of the nodes. Anyways, the process was fun and my hopes are still up. Hope you enjoyed following the process alongside me. Until next time!\nUpdate: it has successfully joined the network and I can see movement on the dashboard. Now time to tweak settings :)\nStorage Node Dashboard ( Node Version: v0.16.1 ) ====================== ID xxxxxxxxxxx Last Contact 0s ago Uptime 15m53s Available Used Egress Ingress Bandwidth 2.0 TB 188.3 MB 14.9 MB 173.4 MB (since Aug 1) Disk 0.8 TB 113.0 MB Bootstrap bootstrap.storj.io:8888 Internal 127.0.0.1:7778 External x.x.x.x:28967 Neighborhood Size 151 From https://documentation.storj.io ↩︎\nFrom https://storj.io/blog/2019/04/what-storage-node-operators-need-to-know-about-satellites/ ↩︎\n",
    "wordCount" : "1258",
    "inLanguage": "en",
    "datePublished": "2019-08-11T11:33:59+02:00",
    "dateModified": "2019-08-11T11:33:59+02:00",
    "author":{
        "@type": "Person",
        "name": "Alvaro Mongil",
        "url": "http://localhost:1313/en/about/"
        },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http://localhost:1313/en/posts/im-joining-the-storj-network/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Álvaro Mongil",
      "description": "",
      "logo": {
        "@type": "ImageObject",
        "url": "http://localhost:1313/favicon.ico"
      }
    }
}
</script><title>I&#39;m joining the Storj network</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" media="screen" href="http://localhost:1313/css/style.min.79f5321746ef35da811f1eca23ddd5ec79443b5791c00351fdf10459a0d51bb5.css" integrity="sha256-efUyF0bvNdqBHx7KI93V7HlEO1eRwANR/fEEWaDVG7U=" crossorigin="anonymous">
	</head>
<body id="page">
	<header id="site-header">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="http://localhost:1313/">Álvaro Mongil</a>
				</div>
				<nav class="site-nav hide-in-mobile"><a href="http://localhost:1313/en/posts/">Posts</a><a href="http://localhost:1313/en/about/">About</a></nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-links hide-in-mobile"><a href="mailto:hello@alvaromongil.com" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
   <polyline points="22,6 12,13 2,6"></polyline>
</svg></a><a href="https://github.com/amongil" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path
      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
   </path>
</svg></a><a href="https://linkedin.com/in/alvaro-mongil" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none"
   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
   <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
   <rect x="2" y="9" width="4" height="12"></rect>
   <circle cx="4" cy="4" r="2"></circle>
</svg></a></span><button id="menu-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
   </svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="http://localhost:1313/en/posts/">Posts</a></li>
			<li><a href="http://localhost:1313/en/about/">About</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster"><article class="thin">
			<header class="post-header">
				<div class="post-date"><span>Aug 11, 2019</span></div>
				<h1>I&#39;m joining the Storj network</h1>
			</header>
			<div class="post-description"><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
   stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather">
   <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path>
   <line x1="16" y1="8" x2="2" y2="22"></line>
   <line x1="17.5" y1="15" x2="9" y2="15"></line>
</svg><a href="http://localhost:1313/en/about/" target="_blank">Alvaro Mongil</a></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon">
      <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
      <line x1="7" y1="7" x2="7" y2="7"></line>
   </svg><span class="tag"><a href="http://localhost:1313/en/tags/storj">storj</a></span><span class="tag"><a href="http://localhost:1313/en/tags/ethereum">ethereum</a></span><span class="tag"><a href="http://localhost:1313/en/tags/decentralized">decentralized</a></span><span class="tag"><a href="http://localhost:1313/en/tags/storage">storage</a></span><span class="tag"><a href="http://localhost:1313/en/tags/raspberrypi">raspberrypi</a></span></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="16" y1="13" x2="8" y2="13"></line>
      <line x1="16" y1="17" x2="8" y2="17"></line>
      <polyline points="10 9 9 9 8 9"></polyline>
   </svg>1258&nbspWords - 5 Minutes, 43 Seconds</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="16" y1="2" x2="16" y2="6"></line>
      <line x1="8" y1="2" x2="8" y2="6"></line>
      <line x1="3" y1="10" x2="21" y2="10"></line>
   </svg>2019-08-11 11:33 &#43;0200
</p></div>
			<hr class="post-end">
			<div class="content">
				 <p><img src="https://storj.io//press-kit/Storj_io-logo-white.svg" alt="img"></p>
<p>Lately, I have not been giving much attention to my <a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/">Raspberry Pi 3 B+</a> and I remembered that a few months back I had received an invitation to the <a href="https://storj.io/">Storj network</a>. Luckily, I have a spare <a href="https://www.amazon.com/Seagate-Portable-External-Hard-Drive/dp/B07CRG7BBH/ref=sr_1_3?keywords=STGX1000400&amp;qid=1565514627&amp;s=gateway&amp;sr=8-3">1TB external HDD</a> that I can now hopefully put to good use.</p>
<blockquote>
<p>Storj is an S3-compatible platform and suite of decentralized applications that allows you to store data in a secure and decentralized manner.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p></blockquote>
<hr>
<h1 id="node-installation">Node installation<a href="#node-installation" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>After restoring my Pi to factory defaults and enabling SSH to connect and run the necessary installation commands from my Macbook, it is time to start with the prerequisites: mounting the external hard drive, installing docker and setting up port-forwarding.</p>
<h2 id="prerequisites">Prerequisites<a href="#prerequisites" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<h3 id="mounting-the-external-hard-drive">Mounting the external hard drive<a href="#mounting-the-external-hard-drive" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>My HDD came formatted as NTFS and with a bunch of vendor files that I want to get rid of and reformat as <em>ext4</em>.</p>
<p>For that, I make use of the <em>fdisk</em> utility to create the partitions of type <em>Linux</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pi@raspberrypi:~ sudo fdisk /dev/sda
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Welcome to fdisk <span class="o">(</span>util-linux 2.29.2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">Changes will remain in memory only, <span class="k">until</span> you decide to write them.
</span></span><span class="line"><span class="cl">Be careful before using the write command.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sda: 931,5 GiB, <span class="m">1000204885504</span> bytes, <span class="m">1953525167</span> sectors
</span></span><span class="line"><span class="cl">Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Disklabel type: dos
</span></span><span class="line"><span class="cl">Disk identifier: 0xe35c7600
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device     Boot Start        End    Sectors   Size Id Type
</span></span><span class="line"><span class="cl">/dev/sda1  *       <span class="m">64</span> <span class="m">1953520128</span> <span class="m">1953520065</span> 931,5G  <span class="m">7</span> HPFS/NTFS/exFAT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d
</span></span><span class="line"><span class="cl">Selected partition <span class="m">1</span>
</span></span><span class="line"><span class="cl">Partition <span class="m">1</span> has been deleted.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sda: 931,5 GiB, <span class="m">1000204885504</span> bytes, <span class="m">1953525167</span> sectors
</span></span><span class="line"><span class="cl">Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Disklabel type: dos
</span></span><span class="line"><span class="cl">Disk identifier: 0xe35c7600
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>m <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition <span class="nb">type</span>
</span></span><span class="line"><span class="cl">   p   primary <span class="o">(</span><span class="m">0</span> primary, <span class="m">0</span> extended, <span class="m">4</span> free<span class="o">)</span>
</span></span><span class="line"><span class="cl">   e   extended <span class="o">(</span>container <span class="k">for</span> logical partitions<span class="o">)</span>
</span></span><span class="line"><span class="cl">Select <span class="o">(</span>default p<span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-4, default 1<span class="o">)</span>: <span class="m">1</span>
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>2048-1953525166, default 2048<span class="o">)</span>:
</span></span><span class="line"><span class="cl">Last sector, +sectors or +size<span class="o">{</span>K,M,G,T,P<span class="o">}</span> <span class="o">(</span>2048-1953525166, default 1953525166<span class="o">)</span>:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Created a new partition <span class="m">1</span> of <span class="nb">type</span> <span class="s1">&#39;Linux&#39;</span> and of size 931,5 GiB.
</span></span></code></pre></div><p>And then formatting the partition as <em>ext4</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pi@raspberrypi:~ $ sudo mkfs.ext4 /dev/sda1 -L storjspace01
</span></span><span class="line"><span class="cl">mke2fs 1.43.4 <span class="o">(</span>31-Jan-2017<span class="o">)</span>
</span></span><span class="line"><span class="cl">Se está creando un sistema de ficheros con <span class="m">244190389</span> bloques de 4k y <span class="m">61054976</span> nodos-i
</span></span><span class="line"><span class="cl">UUID del sistema de ficheros: 8cf9d53a-7ec4-4a7b-a5b0-ad5ac7d272b8
</span></span><span class="line"><span class="cl">Respaldo del superbloque guardado en los bloques:
</span></span><span class="line"><span class="cl">	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
</span></span><span class="line"><span class="cl">	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
</span></span><span class="line"><span class="cl">	102400000, <span class="m">214990848</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Reservando las tablas de grupo: hecho
</span></span><span class="line"><span class="cl">Escribiendo las tablas de nodos-i: hecho
</span></span><span class="line"><span class="cl">Creando el fichero de transacciones <span class="o">(</span><span class="m">262144</span> bloques<span class="o">)</span>: hecho
</span></span><span class="line"><span class="cl">Escribiendo superbloques y la información contable del sistema de ficheros: hecho
</span></span></code></pre></div><p>Now we can mount it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pi@raspberrypi:~ $ sudo mkdir /mnt/storjspace01
</span></span><span class="line"><span class="cl">sudo mkdir /storjspace01
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pi@raspberrypi:~ $ sudo mount /dev/sda1 /mnt/storjspace01
</span></span><span class="line"><span class="cl">sudo mount /dev/sda1 /storjspace01
</span></span><span class="line"><span class="cl">pi@raspberrypi:~ $ df -h
</span></span><span class="line"><span class="cl">S.ficheros     Tamaño Usados  Disp Uso% Montado en
</span></span><span class="line"><span class="cl">/dev/root         28G   4,0G   23G  15% /
</span></span><span class="line"><span class="cl">devtmpfs         459M      <span class="m">0</span>  459M   0% /dev
</span></span><span class="line"><span class="cl">tmpfs            464M      <span class="m">0</span>  464M   0% /dev/shm
</span></span><span class="line"><span class="cl">tmpfs            464M    13M  451M   3% /run
</span></span><span class="line"><span class="cl">tmpfs            5,0M   4,0K  5,0M   1% /run/lock
</span></span><span class="line"><span class="cl">tmpfs            464M      <span class="m">0</span>  464M   0% /sys/fs/cgroup
</span></span><span class="line"><span class="cl">/dev/mmcblk0p6    71M    23M   49M  32% /boot
</span></span><span class="line"><span class="cl">tmpfs             93M      <span class="m">0</span>   93M   0% /run/user/1000
</span></span><span class="line"><span class="cl">/dev/mmcblk0p5    30M   398K   28M   2% /media/pi/SETTINGS
</span></span><span class="line"><span class="cl">/dev/sda1        916G    77M  870G   1% /mnt/storjspace01
</span></span></code></pre></div><p>Let&rsquo;s now modify the <em>fstab</em> file to define the location where the storage device will be automatically mounted when the Raspberry Pi starts up, to persist the configuration across reboots. I have to add the following line to the <em>/etc/fstab</em> file:</p>
<pre tabindex="0"><code>/dev/sda1 /mnt/storjspace01 ext4 defaults 0 0
</code></pre><h3 id="installing-docker">Installing Docker<a href="#installing-docker" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>I will make use of the official Docker installation script:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -fsSL https://get.docker.com -o get-docker.sh
</span></span></code></pre></div><p>Once downloaded, run it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sh get-docker.sh
</span></span></code></pre></div><h3 id="setting-up-port-forwarding">Setting up port forwarding<a href="#setting-up-port-forwarding" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>Here I have to go to my router settings and set up port forwarding for port 28967 for the local ip of the Raspberry Pi on my LAN.</p>
<h2 id="setup">Setup<a href="#setup" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<h3 id="create-an-identity">Create an identity<a href="#create-an-identity" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>This is supposed to take a good bit of computing power so I will create this identity on my Macbook, sign it and then transfer it to my Raspberry Pi.</p>
<p>After downloading the binary for macOS:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./identity_darwin_amd64 create storagenode
</span></span></code></pre></div><p>This will create an identity that I will sign with the token that I have received via email back when I signed up for the alpha:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./identity_darwin_amd64 authorize storagenode <span class="nv">$MYTOKEN</span>
</span></span></code></pre></div><blockquote>
<p>Make sure to back up this file as it uniquely identifies you within the network</p></blockquote>
<p>Now let&rsquo;s transfer it to the Pi:</p>
<pre tabindex="0"><code>$ scp -r ~/Library/Application\ Support/Storj/Identity/storagenode/ pi@192.168.1.42:/home/pi/.local/share/storj/identity/storagenode/
pi@192.168.1.42&#39;s password:
ca.1565521730.cert                                                                                                                                                        100%  546   103.2KB/s   00:00
ca.cert                                                                                                                                                                   100% 1076   170.0KB/s   00:00
identity.cert                                                                                                                                                             100% 1618    12.4KB/s   00:00
identity.key                                                                                                                                                              100%  241    43.4KB/s   00:00
identity.1565521730.cert                                                                                                                                                  100% 1088   170.1KB/s   00:00
ca.key
</code></pre><h3 id="download-and-run-the-storagenode-container">Download and run the storagenode container<a href="#download-and-run-the-storagenode-container" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>On the Pi SSH session:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull storjlabs/storagenode:arm
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -d --restart unless-stopped -p 28967:28967 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">WALLET</span><span class="o">=</span><span class="s2">&#34;0xxxxxxxxxx&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">ADDRESS</span><span class="o">=</span><span class="s2">&#34;myaddress:28967&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">BANDWIDTH</span><span class="o">=</span><span class="s2">&#34;2TB&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -e <span class="nv">STORAGE</span><span class="o">=</span><span class="s2">&#34;800GB&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --mount <span class="nv">type</span><span class="o">=</span>bind,source<span class="o">=</span><span class="s2">&#34;/home/pi/.local/share/storj/identity/storagenode&#34;</span>,destination<span class="o">=</span>/app/identity <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --mount <span class="nv">type</span><span class="o">=</span>bind,source<span class="o">=</span><span class="s2">&#34;/mnt/storjspace01&#34;</span>,destination<span class="o">=</span>/app/config <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --name storagenode storjlabs/storagenode:arm
</span></span></code></pre></div><p>OK, let&rsquo;s take a look at the logs and see if everything is alright:</p>
<pre tabindex="0"><code>$ docker logs  storagenode
2019-08-11T11:57:06.494Z	INFO	Node started
2019-08-11T11:57:06.495Z	INFO	Public server started on [::]:28967
2019-08-11T11:57:06.495Z	INFO	Private server started on 127.0.0.1:7778
2019-08-11T11:57:06.496Z	INFO	vouchers	Checking vouchers
2019-08-11T11:57:06.500Z	INFO	piecestore:monitor	Remaining Bandwidth	{&#34;bytes&#34;: 2000000000000}
2019-08-11T11:57:06.501Z	INFO	bandwidth	Performing bandwidth usage rollups
2019-08-11T11:57:06.502Z	INFO	vouchers	Requesting voucher	{&#34;satellite&#34;: &#34;12EayRS2V1kEsWESU9QMRseFhdxYxKicsiFmxrsLZHeLUtdps3S&#34;}
2019-08-11T11:57:06.503Z	INFO	vouchers	Requesting voucher	{&#34;satellite&#34;: &#34;118UWpMCHzs6CvSgWd9BfFVjw5K9pZbJjkfZJexMtSkmKxvvAW&#34;}
2019-08-11T11:57:06.506Z	INFO	vouchers	Requesting voucher	{&#34;satellite&#34;: &#34;121RTSDpyNZVcEU84Ticf2L1ntiuUimbWgfATz21tuvgk3vzoA6&#34;}
2019-08-11T11:57:06.508Z	INFO	vouchers	Requesting voucher	{&#34;satellite&#34;: &#34;12L9ZFwhzVpuEKMUNUqkaTLGzwY9G24tbiigLiXpmZWKwmcNDDs&#34;}
2019-08-11T11:57:06.621Z	INFO	running on version v0.16.1
2019-08-11T11:57:06.964Z	INFO	vouchers	Voucher request denied. Vetting process not yet complete
2019-08-11T11:57:07.125Z	INFO	vouchers	Voucher request denied. Vetting process not yet complete
2019-08-11T11:57:07.396Z	INFO	vouchers	Voucher request denied. Vetting process not yet complete
2019-08-11T11:57:08.018Z	INFO	vouchers	Voucher request denied. Vetting process not yet complete
</code></pre><p>As we can see from the logs, the node is attempting to join the network. But there is something called <em>vetting process</em> which is preventing it from.</p>
<blockquote>
<p>By default, storage nodes will accept requests to store data from all Satellites on the network. When a new Satellite comes online and makes the first request to a storage node, there will be a vetting process to limit exposure and build trust. Storage nodes can indicate the maximum amount of data they will store for untrusted Satellites. This is a two-way street. When a new storage node comes online, the Satellite vets the new storage node as well to ensure it can reliability store data. Over time, the storage node will build up its reputation with the Satellite and will be allowed to store more data. <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p></blockquote>
<hr>
<h1 id="conclussions">Conclussions<a href="#conclussions" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>Preparing your Raspberry Pi and your HDD to work with the Storj network is a pretty straight-forward job. Storj is gaining some traction and now is offering an Enterprise version of the network called <a href="https://tardigrade.io/">Tardigrade</a>. I imagine as Storj takes off more and more powerful nodes will join the network and it might even be the case now that my poor Raspberry Pi is no competition to most of the nodes. Anyways, the process was fun and my hopes are still up. Hope you enjoyed following the process alongside me. Until next time!</p>
<p>Update: it has successfully joined the network and I can see movement on the dashboard. Now time to tweak settings :)</p>
<pre tabindex="0"><code>Storage Node Dashboard ( Node Version: v0.16.1 )

======================

ID           xxxxxxxxxxx
Last Contact 0s ago
Uptime       15m53s

                   Available         Used      Egress      Ingress
     Bandwidth        2.0 TB     188.3 MB     14.9 MB     173.4 MB (since Aug 1)
          Disk        0.8 TB     113.0 MB

Bootstrap bootstrap.storj.io:8888
Internal  127.0.0.1:7778
External  x.x.x.x:28967

Neighborhood Size 151
</code></pre><div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>From <a href="https://documentation.storj.io">https://documentation.storj.io</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>From <a href="https://storj.io/blog/2019/04/what-storage-node-operators-need-to-know-about-satellites/">https://storj.io/blog/2019/04/what-storage-node-operators-need-to-know-about-satellites/</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

			</div>
			

		</article>
		<div class="post-nav thin">
			<a class="next-post" href="http://localhost:1313/en/posts/infrastructure-development-with-the-aws-cdk/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left">
      <line x1="19" y1="12" x2="5" y2="12"></line>
      <polyline points="12 19 5 12 12 5"></polyline>
   </svg>&nbsp;Newer</span><br><span>Infrastructure development with the AWS CDK</span>
			</a>
		</div>
		<div id="comments" class="thin"></div>
	</main>
<footer id="site-footer" class="section-inner thin animated fadeIn faster">
<p>
	&copy; 2025 <a href="http://localhost:1313/">Álvaro Mongil</a>
	&#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0 </a>&#183; Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>
	&#183; Theme <a href="https://github.com/1bl4z3r/hermit-V2" target="_blank" rel="noopener">Hermit-V2</a></p></footer>
<script async src="http://localhost:1313/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js" integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin="anonymous"></script>

</body>
</html>
